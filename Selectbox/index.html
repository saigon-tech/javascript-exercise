<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <style>
        body {
            text-align: center;
        }

        select {
            margin-right: 20px;
        }
    </style>
</head>
<body>

<h1>Selectbox</h1>

<p>The select element is used to create a drop-down list:</p>

<label for="city">Choose a city:</label>
<select id="city"></select>

<label for="district">Choose a district:</label>
<select id="district"></select>

<label for="ward">Choose a ward:</label>
<select id="ward"></select>

<label for="street">Choose a street:</label>
<select id="street"></select>
<script type="text/javascript">
    $(function () {
        let jsonObj;
        let districts;
        let wards;
        let streets;
        // 1. Get data json file
        $.getJSON('local.json', function (result) {
            jsonObj = result;
            // 2. Loop city va gan vao select id city
            for (let i = 0; i < jsonObj.length; i++) {
                $('#city').append("<option value=" + i + ">" + jsonObj[i].name + "</option>");
            }
            $("#city").change();
        });
        // 3. Su kien city change
        $('#city').on('change', function () {
            const cityIndex = $(this).val();
            districts = jsonObj[cityIndex].districts;
            // 4. Loop districts va gan vao select id district
            $('#district').html('');
            for (let j = 0; j < districts.length; j++) {
                $('#district').append("<option value=" + j + ">" + districts[j].name + "</option>");
            }
            $("#district").change();
        });
        // 5. Su kien district change
        $('#district').on('change', function () {
            const districtIndex = $(this).val();
            wards = districts[districtIndex].wards;
            // 6. Loop wards va gan vao select id ward
            $('#ward').html('');
            for (let z = 0; z < wards.length; z++) {
                $('#ward').append("<option>" + wards[z].name + "</option>");
            }
            streets = districts[districtIndex].streets;
            // 7. Loop street va gan vao select id street
            $('#street').html('');
            for (let z = 0; z < streets.length; z++) {
                $('#street').append("<option>" + streets[z].name + "</option>");
            }
        });
    })
</script>
</body>
</html>
